{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const LS_KEY = 'feedback-form-state';\nconst formData = { email: '', message: '' };\n\nconst formEl = document.querySelector('.feedback-form');\nformEl.addEventListener('submit', handleFormSubmit);\nformEl.addEventListener('input', handleFormInput);\npopulateForm();\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n\n  if (email === '' || message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log({ email, message });\n  localStorage.removeItem(LS_KEY);\n  form.reset();\n}\n\nfunction handleFormInput(event) {\n  const form = event.currentTarget;\n  const formMeta = new FormData(form);\n\n  for (const [key, value] of formMeta) {\n    formData[key] = value.trim();\n  }\n  localStorage.setItem(LS_KEY, JSON.stringify(formData));\n}\n\nfunction populateForm() {\n  try {\n    const dataFromLS = localStorage.getItem(LS_KEY);\n    if (!dataFromLS) {\n      return;\n    }\n    const data = JSON.parse(dataFromLS);\n    const emailInput = formEl.querySelector('input[name=\"email\"]');\n    emailInput.value = data.email;\n    const messageInput = formEl.querySelector('textarea[name=\"message\"]');\n    messageInput.value = data.message;\n    formData.email = data.email;\n    formData.message = data.message;\n  } catch (error) {\n    console.log('Error parsing localStorage data:', error);\n  }\n}\n"],"names":["LS_KEY","formData","formEl","handleFormSubmit","handleFormInput","populateForm","event","form","email","message","formMeta","key","value","dataFromLS","data","emailInput","messageInput","error"],"mappings":"wFAAA,MAAMA,EAAS,sBACTC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEnCC,EAAS,SAAS,cAAc,gBAAgB,EACtDA,EAAO,iBAAiB,SAAUC,CAAgB,EAClDD,EAAO,iBAAiB,QAASE,CAAe,EAChDC,EAAY,EAEZ,SAASF,EAAiBG,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,MAAM,MAAM,KAAI,EACtCE,EAAUF,EAAK,SAAS,QAAQ,MAAM,KAAI,EAEhD,GAAIC,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,wBAAwB,EAC9B,MACF,CACA,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAO,CAAE,EAC9B,aAAa,WAAWT,CAAM,EAC9BO,EAAK,MAAK,CACZ,CAEA,SAASH,EAAgBE,EAAO,CAC9B,MAAMC,EAAOD,EAAM,cACbI,EAAW,IAAI,SAASH,CAAI,EAElC,SAAW,CAACI,EAAKC,CAAK,IAAKF,EACzBT,EAASU,CAAG,EAAIC,EAAM,KAAI,EAE5B,aAAa,QAAQZ,EAAQ,KAAK,UAAUC,CAAQ,CAAC,CACvD,CAEA,SAASI,GAAe,CACtB,GAAI,CACF,MAAMQ,EAAa,aAAa,QAAQb,CAAM,EAC9C,GAAI,CAACa,EACH,OAEF,MAAMC,EAAO,KAAK,MAAMD,CAAU,EAC5BE,EAAab,EAAO,cAAc,qBAAqB,EAC7Da,EAAW,MAAQD,EAAK,MACxB,MAAME,EAAed,EAAO,cAAc,0BAA0B,EACpEc,EAAa,MAAQF,EAAK,QAC1Bb,EAAS,MAAQa,EAAK,MACtBb,EAAS,QAAUa,EAAK,OAC1B,OAASG,EAAO,CACd,QAAQ,IAAI,mCAAoCA,CAAK,CACvD,CACF"}