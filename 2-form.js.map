{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const LS_KEY = 'feedback-form-state';\nconst formData = { email: '', message: '' };\n\nconst formEl = document.querySelector('.feedback-form');\nformEl.addEventListener('submit', handleFormSubmit);\nformEl.addEventListener('input', handleFormInput);\npopulateForm();\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  console.log(formData);\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n\n  localStorage.removeItem(LS_KEY);\n  form.reset();\n  formData.email = '';\n  formData.message = '';\n}\n\nfunction handleFormInput(event) {\n  const form = event.currentTarget;\n  const formMeta = new FormData(form);\n\n  for (const [key, value] of formMeta) {\n    formData[key] = value.trim();\n  }\n  localStorage.setItem(LS_KEY, JSON.stringify(formData));\n}\n\nfunction populateForm() {\n  try {\n    const dataFromLS = localStorage.getItem(LS_KEY);\n    if (!dataFromLS) {\n      return;\n    }\n    const data = JSON.parse(dataFromLS);\n    const emailInput = formEl.querySelector('input[name=\"email\"]');\n    emailInput.value = data.email;\n    const messageInput = formEl.querySelector('textarea[name=\"message\"]');\n    messageInput.value = data.message;\n    formData.email = data.email;\n    formData.message = data.message;\n  } catch (error) {\n    console.log('Error parsing localStorage data:', error);\n  }\n}\n"],"names":["LS_KEY","formData","formEl","handleFormSubmit","handleFormInput","populateForm","event","form","formMeta","key","value","dataFromLS","data","emailInput","messageInput","error"],"mappings":"wFAAA,MAAMA,EAAS,sBACTC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEnCC,EAAS,SAAS,cAAc,gBAAgB,EACtDA,EAAO,iBAAiB,SAAUC,CAAgB,EAClDD,EAAO,iBAAiB,QAASE,CAAe,EAChDC,EAAY,EAEZ,SAASF,EAAiBG,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cAEnB,GADA,QAAQ,IAAIL,CAAQ,EAChBA,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,wBAAwB,EAC9B,MACF,CAEA,aAAa,WAAWD,CAAM,EAC9BO,EAAK,MAAK,EACVN,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAEA,SAASG,EAAgBE,EAAO,CAC9B,MAAMC,EAAOD,EAAM,cACbE,EAAW,IAAI,SAASD,CAAI,EAElC,SAAW,CAACE,EAAKC,CAAK,IAAKF,EACzBP,EAASQ,CAAG,EAAIC,EAAM,KAAI,EAE5B,aAAa,QAAQV,EAAQ,KAAK,UAAUC,CAAQ,CAAC,CACvD,CAEA,SAASI,GAAe,CACtB,GAAI,CACF,MAAMM,EAAa,aAAa,QAAQX,CAAM,EAC9C,GAAI,CAACW,EACH,OAEF,MAAMC,EAAO,KAAK,MAAMD,CAAU,EAC5BE,EAAaX,EAAO,cAAc,qBAAqB,EAC7DW,EAAW,MAAQD,EAAK,MACxB,MAAME,EAAeZ,EAAO,cAAc,0BAA0B,EACpEY,EAAa,MAAQF,EAAK,QAC1BX,EAAS,MAAQW,EAAK,MACtBX,EAAS,QAAUW,EAAK,OAC1B,OAASG,EAAO,CACd,QAAQ,IAAI,mCAAoCA,CAAK,CACvD,CACF"}